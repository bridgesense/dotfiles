# vim: filetype=i3
#
# File originally by Luke Smith
# This config file will use environmental variables such as $BROWSER and $TERMINAL.
# You can set these variables in ~/.profile or ~/.bash_profile if you have it as below:
#
# export BROWSER="firefox"
# export TERMINAL="uxrvt"

# #---Basic Definitions---# #
# Needed for i3-gaps
for_window [class="^.*"] border pixel 2
for_window [class="^.*"][window_type=dialog] focus
gaps inner 5
gaps outer 5
set $term --no-startup-id $TERMINAL
set $mod Mod4
set $shutdown ~/.config/i3/shutdown.sh
set $reboot  ~/.config/i3/reboot.sh
set $netrefresh "systemctl restart networking"
set $hibernate "systemctl suspend && xautolock -locknow" 

# whisker menu selection
# rofi recognizes flatpak installed software
set $menu "rofi -combi-modi window,drun,ssh -modi combi -show combi"
# set $menu dmenu_run

# #---Starting External Scripts---# #
# Start Sound 
exec --no-startup-id pulseaudio --start
# escape/caps keyswapping:
exec --no-startup-id setxkbmap -option caps:swapescape
# Starts dunst for notifications:
exec --no-startup-id dunst
# Composite manager:
exec --no-startup-id xcompmgr -c -f -n
# Xbanish makes the mouse invisible after a brief period
exec --no-startup-id xbanish
# simple lockout screen that leaves the machine running
exec --no-startup-id xautolock -time 10 -locker "i3lock -c 000000"
# blue-light adaptation
exec --no-startup-id redshift-gtk
# Setting up screens:
exec --no-startup-id ~/.config/i3/screen_init.sh
# unmute microphone
exec --no-startup-id amixer set Capture cap
# turn on flameshot
# exec --no-startup-id flameshot 

# Set Xresources colors:
set_from_resource $darkblack	color0
set_from_resource $black	color8
set_from_resource $darkred	color1
set_from_resource $red		color9
set_from_resource $darkgreen	color2
set_from_resource $green	color10
set_from_resource $darkyellow	color3
set_from_resource $yellow	color11
set_from_resource $darkblue	color4
set_from_resource $blue		color12
set_from_resource $darkmagenta	color5
set_from_resource $magenta	color13
set_from_resource $darkcyan	color6
set_from_resource $cyan		color14
set_from_resource $darkwhite	color7
set_from_resource $white	color15
set $transparent	        #00000000

client.focused $red $red $magenta $darkmagenta $darkblue
client.unfocused $transparent $blue $white $darkblue $darkblack
client.focused_inactive $transparent $blue $white $darkblue $darkblack
client.urgent $darkred $black $darkred $darkred
client.background $black

bar {
	font pango:noto mono 10
        colors {
            background $darkblack
            statusline $darkwhite
            separator $cyan
            focused_workspace $darkblack $darkyellow $darkblack
            active_workspace $darkblack $darkblue $darkblack
            inactive_workspace $darkblack $darkblue $darkblack
            urgent_workspace $darkblack $darkred $darkblack
            }
    status_command i3status
	position top
}

# For screenshots
bindsym Print 			exec --no-startup-id flameshot gui
bindsym Shift+Print 	exec --no-startup-id flameshot config
bindsym $mod+Shift+s    exec --no-startup-id flameshot gui

# #---Software Bindings---# #
bindsym $mod+Return 		exec $term
bindsym $mod+space  	    exec --no-startup-id $menu
bindsym $mod+d 			    exec --no-startup-id nemo --no-desktop
bindsym $mod+i 			    exec $term -e htop
bindsym $mod+n 			    exec $term -e ranger
bindsym $mod+a	            exec --no-startup-id $BROWSER
bindsym $mod+o			    exec $term -e calcurse
bindsym $mod+r              exec --no-startup-id ~/.config/i3/screen_init.sh

# #---i3 Bindings---# #
bindsym $mod+Shift+BackSpace	exec --no-startup-id $reboot
bindsym $mod+Shift+x	    	exec --no-startup-id $shutdown

# #---Window Bindings---# #
bindsym $mod+h			focus left
bindsym $mod+j			focus down
bindsym $mod+k			focus up
bindsym $mod+l			focus right
bindsym $mod+p          floating enable
bindsym $mod+shift+p    floating disable 
bindsym $mod+Shift+H	move left
bindsym $mod+Shift+J	move down 
bindsym $mod+Shift+K	move up
bindsym $mod+Shift+L 	move right
bindsym $mod+Shift+C    move position center 

bindsym $mod+q          [con_id="__focused__" instance="^(?!tmuxdd).*$"] kill
bindsym $mod+f			fullscreen toggle
bindsym $mod+Shift+r	exec --no-startup-id winresize
bindsym $mod+t			split toggle
bindsym $mod+s          split vertical
bindsym $mod+v          split horizontal
bindsym $mod+b			sticky toggle

bindsym $mod+bracketleft     resize shrink width 1 px or 1 ppt
bindsym $mod+bracketright    resize grow width 1 px or 1 ppt
bindsym $mod+minus		     resize shrink height 1 px or 1 ppt
bindsym $mod+equal           resize grow height 1 px  or 1 ppt

# #---Screen Bindings---# #
bindsym $mod+w            focus output right
bindsym $mod+period       move workspace to output right
bindsym $mod+slash        move container to output right

# #---Workspace Bindings---# #
bindsym $mod+z		        workspace prev
bindsym $mod+x		        workspace next
bindsym $mod+Tab		    workspace back_and_forth

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# switch to workspace
bindsym $mod+1		workspace $ws1
bindsym $mod+2		workspace $ws2
bindsym $mod+3		workspace $ws3
bindsym $mod+4		workspace $ws4
bindsym $mod+5		workspace $ws5
bindsym $mod+6		workspace $ws6
bindsym $mod+7		workspace $ws7
bindsym $mod+8		workspace $ws8
bindsym $mod+9		workspace $ws9
bindsym $mod+0		workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1	move container to workspace $ws1
bindsym $mod+Shift+2	move container to workspace $ws2
bindsym $mod+Shift+3	move container to workspace $ws3
bindsym $mod+Shift+4	move container to workspace $ws4
bindsym $mod+Shift+5	move container to workspace $ws5
bindsym $mod+Shift+6	move container to workspace $ws6
bindsym $mod+Shift+7	move container to workspace $ws7
bindsym $mod+Shift+8	move container to workspace $ws8
bindsym $mod+Shift+9	move container to workspace $ws9
bindsym $mod+Shift+0	move container to workspace $ws10

# #---Function Buttons---# #
bindsym $mod+F1	    exec --no-startup-id $BROWSER https://gitlab.com/bridgesense/dotfiles
bindsym $mod+F2     exec --no-startup-id i3lock -i ~/.config/i3/wallpaper.png
bindsym $mod+F4		exec --no-startup-id $hibernate
bindsym $mod+F5		exec --no-startup-id $netrefresh
bindsym $mod+F6     exec $term -e alsamixer -c 0
bindsym $mod+F7		exec --no-startup-id arandr
bindsym $mod+F8     exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 0 && notify-send "Touchpad Off" --expire-time=600
bindsym $mod+F9     exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 1 && notify-send "Touchpad On" --expire-time=600
bindsym $mod+F10    exec $term -e wicd-curses
bindsym $mod+F11    exec $term -e sudo openvpn --config ~/Nextcloud/office/network/bdesk.ovpn

# #---Arrow Keys---# #
bindsym $mod+Left		    focus left
bindsym $mod+Down		    focus down
bindsym $mod+Up			    focus up
bindsym $mod+Right 		    focus right
bindsym $mod+Shift+Left		move left
bindsym $mod+Shift+Down		move down
bindsym $mod+Shift+Up		move up
bindsym $mod+Shift+Right 	move right

# #---Extra XF86 Keys---# #
# These are the extra media keys that some keyboards have.
bindsym XF86AudioMicMute 	            exec --no-startup-id amixer set Capture toggle
bindsym XF86AudioMute		            exec --no-startup-id amixer set Master toggle
bindsym XF86AudioLowerVolume	        exec --no-startup-id amixer set Master 2%-
bindsym Shift+XF86AudioLowerVolume	    exec --no-startup-id amixer set Master 10%-
bindsym Control+XF86AudioLowerVolume	exec --no-startup-id amixer set Master 1%-
bindsym XF86AudioRaiseVolume	        exec --no-startup-id amixer set Master 2%+
bindsym Shift+XF86AudioRaiseVolume	    exec --no-startup-id amixer set Master 10%+
bindsym Control+XF86AudioRaiseVolume	exec --no-startup-id amixer set Master 1%+
bindsym XF86PowerOff		            exec --no-startup-id $shutdown
bindsym XF86Calculator		            exec $term -e R -q --no-save
##bindsym XF86Sleep		                # This binding is typically mapped by systemd automatically.
bindsym XF86Explorer		            exec $term -e ranger
bindsym XF86WWW			                exec --no-startup-id $BROWSER
bindsym XF86ScreenSaver		            exec exec --no-startup-id lockscreen
bindsym XF86MyComputer		            exec $term -e ranger
bindsym XF86Eject		                exec --no-startup-id dmenuumount
bindsym XF86HomePage		            exec $BROWSER https://lukesmith.xyz
bindsym XF86Reload		                restart
bindsym XF86Suspend		                exec --no-startup-id $hibernate
bindsym XF86Search		                exec $BROWSER https://duckduckgo.com
bindsym XF86Display		                exec --no-startup-id arandr
bindsym XF86Documents		            exec $term -e ranger ~/Documents
bindsym XF86WLAN		                exec $netrefresh
